(()=>{let e,t,a,n,o,r,s,l,i,c,d,u,m,_,p,y,v,b,h,f,L,S,q,g,x,k,E=document.documentElement,C=0,$=[0];const A=()=>{c.classList.add("active"),c.querySelector(".transaction-panel__button--save").addEventListener("click",(e=>H(e,d,u,m,c))),c.querySelector(".transaction-panel__button--cancel").addEventListener("click",(()=>w(d,u,m,_,c)))},w=(e,t,a,n,o)=>{T(e,t,a,n),M(),o.classList.remove("active")},T=(e,t,a,n)=>{e.value="",e.classList.remove("transaction-panel__input--error"),t.value="",t.classList.remove("transaction-panel__input--error"),a.selectedIndex=0,a.classList.remove("transaction-panel__input--error"),n.classList.remove("transaction-panel__arrow--error")},M=()=>{document.querySelectorAll(".transaction-panel__error").forEach((e=>e.style.display="none"))},H=(e,t,a,n,o,r)=>{e.preventDefault(),U([t,a]),P(n),F(t),N(e,t,a,n,o,r)},U=e=>{e.forEach((e=>{""===e.value?D(e,`${e.id.charAt(0).toUpperCase()+e.id.slice(1)} cannot be empty!`):"0"===e.value?D(e,`${e.id.charAt(0).toUpperCase()+e.id.slice(1)} cannot be equal to zero!`):I(e)}))},P=e=>{"none"===e.value?D(e,`${e.id.charAt(0).toUpperCase()+e.id.slice(1)} must be selected!`):I(e)},F=e=>{e.value.length<e.minLength||e.value.length>e.maxLength?D(e,`${e.id.charAt(0).toUpperCase()+e.id.slice(1)} must be between ${e.minLength} and ${e.maxLength} characters!`):I(e)},N=(e,t,o,r,s,l)=>{const i=y.querySelector(".transaction-panel__button--edit"),c=y.querySelector("i.fa-solid.fa-check");""!==t.value&&t.value.length>=t.minLength&&t.value.length<=t.maxLength&&"0"!==t.value&&""!==o.value&&"0"!==o.value&&"none"!==r.value&&(e.target===i||e.target===c?((e=>{const t=a.children,o=n.children,r=document.getElementById(e),s=parseFloat(r.childNodes[9].childNodes[1].innerText.slice(1)),l=$.indexOf(s),i=r.querySelector(".transactions__item-name"),c=r.querySelector(".transactions__item-amount-text"),d=v.value,u=parseFloat(b.value);z(h),i.innerHTML=`${k} ${d.charAt(0).toUpperCase()+d.slice(1)}`,c.innerHTML=`<i class="fa-solid fa-dollar-sign"></i> ${u}`,u>0?Array.from(o).includes(r)&&(r.classList.remove("transactions__item--expense"),r.classList.add("transactions__item--income"),n.removeChild(r),a.appendChild(r)):Array.from(t).includes(r)&&(r.classList.remove("transactions__item--income"),r.classList.add("transactions__item--expense"),a.removeChild(r),n.appendChild(r)),$[l]=u,B($)})(l),w(v,b,h,f,s)):(O(),w(d,u,m,_,s)))},D=(e,t)=>{let a=e.parentElement.querySelector(".transaction-panel__error");a||(a=e.parentElement.nextElementSibling,e.nextElementSibling.classList.add("transaction-panel__arrow--error")),a.textContent=t,a.style.display="block",e.classList.add("transaction-panel__input--error")},I=e=>{let t=e.parentElement.querySelector(".transaction-panel__error");t||(t=e.parentElement.nextElementSibling,e.nextElementSibling.classList.remove("transaction-panel__arrow--error")),t.textContent="",t.style.display="none",e.classList.remove("transaction-panel__input--error")},O=()=>{const e=document.createElement("div");e.setAttribute("id",C),e.className="transactions__item",z(m);const t=document.querySelector(".transactions__template").content.cloneNode(!0);t.querySelector(".transactions__item-name").innerHTML=`${k} ${d.value.charAt(0).toUpperCase()+d.value.slice(1)}`,t.querySelector(".transactions__item-amount-text").innerHTML=`<i class="fa-solid fa-dollar-sign"></i> ${u.value}`,t.querySelector(".transactions__item-amount-button--edit").setAttribute("onclick",`openEditionPanel(${C})`),t.querySelector(".transactions__item-amount-button--delete").setAttribute("onclick",`deleteTransaction(${C})`),e.appendChild(t),u.value>0?(e.classList.add("transactions__item--income"),a.appendChild(e)):(e.classList.add("transactions__item--expense"),n.appendChild(e)),$.push(parseFloat(u.value)),B($),C++},z=e=>{switch(e.value){case"salary":k='<i class="fa-solid fa-wallet"></i>';break;case"investment":k='<i class="fa-solid fa-chart-line"></i>';break;case"freelance":k='<i class="fa-solid fa-briefcase"></i>';break;case"rent":k='<i class="fa-solid fa-house"></i>';break;case"shopping":k='<i class="fa-solid fa-cart-shopping"></i>';break;case"food":k='<i class="fa-solid fa-utensils"></i>';break;case"bills":k='<i class="fa-solid fa-credit-card"></i>';break;case"cinema":k='<i class="fa-solid fa-film"></i>';break;case"leisure":k='<i class="fa-solid fa-glass-cheers"></i>';break;case"other":k='<i class="fa-solid fa-pen"></i>'}},B=e=>{const a=e.reduce(((e,t)=>e+t));a<0?(t.classList.remove("options__balance--positive"),t.classList.add("options__balance--negative")):a>0?(t.classList.remove("options__balance--negative"),t.classList.add("options__balance--positive")):t.classList.remove("options__balance--positive","options__balance--negative"),t.textContent=a},Y=()=>{S.style.display="flex"},j=()=>{S.style.display="none"},G=()=>{a.innerHTML='<h3 class="incomes-box__title">Incomes</h3>',n.innerHTML='<h3 class="expenses-box__title">Expenses</h3>',$=[0],t.textContent="0",t.style.color="#f0ebd8",j()},J=()=>{E.style.setProperty("--darkColor","#f0ebd8"),E.style.setProperty("--lightColor","#0d1321")},K=()=>{E.style.setProperty("--darkColor","#0d1321"),E.style.setProperty("--lightColor","#f0ebd8")};window.addEventListener("DOMContentLoaded",(()=>{e=document.querySelector(".footer__year"),t=document.querySelector(".options__balance > span"),a=document.querySelector(".incomes-box"),n=document.querySelector(".expenses-box"),o=document.querySelector(".options__controls-btn--add"),r=document.querySelector(".incomes-box__item-amount-btn"),s=document.querySelector(".options__controls-btn--deleteAll"),l=document.querySelector(".options__style-button--light"),i=document.querySelector(".options__style-button--dark"),c=document.querySelector(".transaction-panel--create"),d=c.querySelector("#name"),u=c.querySelector("#amount"),m=c.querySelector("#category"),_=c.querySelector(".transaction-panel__arrow"),p=c.querySelector(".transaction-panel__xmark"),y=document.querySelector(".transaction-panel--edit"),v=y.querySelector("#name-to-edit"),b=y.querySelector("#amount-to-edit"),h=y.querySelector("#category-to-edit"),f=y.querySelector(".transaction-panel__arrow"),L=y.querySelector(".transaction-panel__xmark"),S=document.querySelector(".confirmation-modal"),q=document.querySelector(".confirmation-modal__button--confirm"),g=document.querySelector(".confirmation-modal__button--cancel"),x=document.querySelector(".edition-modal"),o.addEventListener("click",A),s.addEventListener("click",Y),p.addEventListener("click",(()=>w(d,u,m,_,c))),L.addEventListener("click",(()=>w(v,b,h,f,y))),l.addEventListener("click",J),i.addEventListener("click",K),q.addEventListener("click",G),g.addEventListener("click",j),(()=>{const t=new Date;e.textContent=t.getFullYear()})()}))})();